let catsData = [
    {
        image: 'https://static.wixstatic.com/media/84770f_31789e4869794cfca17d85f4c454e371~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_31789e4869794cfca17d85f4c454e371~mv2.jpg',
        price: 3000,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat litters'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_1896fb5cf2454163892d669dc5a03694~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_1896fb5cf2454163892d669dc5a03694~mv2.jpg',
        price: 11500,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat litters'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_665bb0d034864bbcab1197a0a8e638c0~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_665bb0d034864bbcab1197a0a8e638c0~mv2.jpg',
        price: 4500,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat litters'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_19b9522349cc44508c6c10f73bd6bde9~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_19b9522349cc44508c6c10f73bd6bde9~mv2.jpg',
        price: 1200,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat tools'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_a2f869e799a34f57821f219711e1e019~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_a2f869e799a34f57821f219711e1e019~mv2.jpg',
        price: 3000,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat poles'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_f6f1ce60118e4db89f0617d90df75891~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_f6f1ce60118e4db89f0617d90df75891~mv2.jpg',
        price: 3000,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat poles'
    },
    {
        image: 'https://static.wixstatic.com/media/84770f_134d41ca13984fd3bda23d4e229d0931~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_134d41ca13984fd3bda23d4e229d0931~mv2.jpg',
        price: 3000,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat poles' 
    },
    {
        image: 'https://static.wixstatic.com/media/84770f_9d9b47eea58b4715b49e76095efb627b~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_9d9b47eea58b4715b49e76095efb627b~mv2.jpg',
        price: 600,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat tools' 
    }, 
    {
        image: 'https://static.wixstatic.com/media/84770f_b6106567ef134c08833387cf3f32636c~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_b6106567ef134c08833387cf3f32636c~mv2.jpg',
        price: 500,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat tools' 
    },  {
        image: 'https://static.wixstatic.com/media/84770f_fc2d6e1468cc42e4a9bfda3d8ccc5811~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_fc2d6e1468cc42e4a9bfda3d8ccc5811~mv2.jpg',
        price: 4200,
        previousPrice: "$6.00",
        name: "I'm a product",
        category: 'cat toys'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_9d85bc28b2a848d2811dcf889dcf69f9~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_9d85bc28b2a848d2811dcf889dcf69f9~mv2.jpg',
        price: 1200,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat toys'
    },  {
        image: 'https://static.wixstatic.com/media/84770f_d02a2cd36866486cab992c4960c8d1f9~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_d02a2cd36866486cab992c4960c8d1f9~mv2.jpg',
        price: 800,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat toys' 
    },   {
        image: 'https://static.wixstatic.com/media/84770f_372a6644eccd4b61853ca63460c14932~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_372a6644eccd4b61853ca63460c14932~mv2.jpg',
        price: 800,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat toys' 
    },  {
        image: 'https://static.wixstatic.com/media/84770f_93e10a5b8f154b1b993cfb0f4df193eb~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_93e10a5b8f154b1b993cfb0f4df193eb~mv2.jpg',
        price: 700,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat toys' 
    },  {
        image: 'https://static.wixstatic.com/media/84770f_fdfcbbaf39ef4bec8302ba850905b910~mv2.jpg/v1/fill/w_335,h_335,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/84770f_fdfcbbaf39ef4bec8302ba850905b910~mv2.jpg',
        price: 700,
        previousPrice: "",
        name: "I'm a product",
        category: 'cat toys' 
    }
]; 

let catsContainer = document.querySelector('.cats-container');

let catsCategoryUl = document.querySelector('.cats-categorylist');

let catsHtml = '';

catsData.forEach((product) =>{
    catsHtml += `
    <div class="shopitem">
                <img src="${product.image}" alt="image not loading">
                <p class="improduct">${product.name}</p>
                <div class="oldpricenewpricecontainer">
                <s class="stikeprice">${product.previousPrice}</s><p class="shopitemprice">$${(product.price/100).toFixed(2)}</p>
                </div>
                <div class="itemnumberinputplusminus">
                  <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                    <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                  </svg>
                  <input type="text" name="" id="" class="itemnumberinput" value="1">
                  <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                  </svg>
                </div>
                <button class="additemtocartbutton">Add to Cart</button>
              </div>`;
});

catsContainer.innerHTML = catsHtml;


// filter by price

let sortByCatsList;

let catsFilter = document.querySelector('.filtercatsprice');

let catsDatatwo = catsData;

catsFilter.addEventListener('change', (event) => {
  let currentCatItems = document.querySelectorAll('.shopitem');
    if (event.target.value=='Price(high to low)') {
        let existingItemimages =[];
          currentCatItems.forEach((item)=>{
            existingItemimages.push(item.firstElementChild.src);
          })
          let dataForHightolow = [];
          existingItemimages.forEach((image)=>{
            catsDatatwo.forEach((item)=>{
              if(item.image==image) {
                dataForHightolow.push(item);
              }
            })
          })
        dataForHightolow.sort((a,b)=> {
            return b.price-a.price;
        });
        let filteredcatshigh='';
        dataForHightolow.forEach((product) =>{
            filteredcatshigh += `
            <div class="shopitem">
                        <img src="${product.image}" alt="image not loading">
                        <p class="improduct">${product.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${product.previousPrice}</s><p class="shopitemprice">$${(product.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`;
        });
        catsContainer.innerHTML = filteredcatshigh;
    } else if (event.target.value=='Price(low to high)') {
        let existingItemimages =[];
          currentCatItems.forEach((item)=>{
            existingItemimages.push(item.firstElementChild.src);
          })
          let dataForLowtoHigh = [];
          existingItemimages.forEach((image)=>{
            catsDatatwo.forEach((item)=>{
              if(item.image==image) {
                dataForLowtoHigh.push(item);
              }
            })
          })
        dataForLowtoHigh.sort((a,b)=> {
            return a.price-b.price;
        });
        let filteredCatslow='';
        dataForLowtoHigh.forEach((product) =>{
            filteredCatslow += `
            <div class="shopitem">
                        <img src="${product.image}" alt="image not loading">
                        <p class="improduct">${product.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${product.previousPrice}</s><p class="shopitemprice">$${(product.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`;
        });
        catsContainer.innerHTML = filteredCatslow;
    } else if (event.target.value=='Sort by') {
        if(sortByCatsList) {
          catsContainer.innerHTML='';
          sortByCatsList.forEach((item)=>{
            catsContainer.appendChild(item);
          });
        } else {
          catsContainer.innerHTML=catsHtml;
        }
    }
}); 


// category filter 
catsCategoryUl.addEventListener('click', (event)=>{
    catsFilter.reset();
    if (event.target.textContent == 'Cat Litters') {
        let catLitters = [];
        catsData.forEach((item)=>{
            if(item.category=="cat litters") {
                catLitters.push(item);
            }
        })
        let catLittershtml = '';
        catLitters.forEach((item)=>{
            catLittershtml+=`
            <div class="shopitem">
                        <img src="${item.image}" alt="image not loading">
                        <p class="improduct">${item.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${item.previousPrice}</s><p class="shopitemprice">$${(item.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`
        });
        catsContainer.innerHTML=catLittershtml;
        let allitemsList = event.target.parentElement.querySelectorAll('li');
        allitemsList.forEach((li)=>{
            li.style.fontWeight = 400;
        });
        event.target.style.fontWeight = 700;
        sortByCatsList=document.querySelectorAll('.shopitem');
    } else if (event.target.textContent=='Cat Poles') {
        let catPoles = [];
        catsData.forEach((item)=>{
            if(item.category=="cat poles") {
                catPoles.push(item);
            }
        })
        let catPoleshtml = '';
        catPoles.forEach((item)=>{
            catPoleshtml+=`
            <div class="shopitem">
                        <img src="${item.image}" alt="image not loading">
                        <p class="improduct">${item.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${item.previousPrice}</s><p class="shopitemprice">$${(item.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`
        });
        catsContainer.innerHTML=catPoleshtml;
        let allitemsList = event.target.parentElement.querySelectorAll('li');
        allitemsList.forEach((li)=>{
            li.style.fontWeight = 400;
        });
        event.target.style.fontWeight = 700;
        sortByCatsList=document.querySelectorAll('.shopitem');
    } else if (event.target.textContent == 'Cat Toys') {
        let catToys = [];
        catsData.forEach((item)=>{
            if(item.category=="cat toys") {
                catToys.push(item);
            }
        })
        let catToyshtml = '';
        catToys.forEach((item)=>{
            catToyshtml+=`
            <div class="shopitem">
                        <img src="${item.image}" alt="image not loading">
                        <p class="improduct">${item.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${item.previousPrice}</s><p class="shopitemprice">$${(item.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`
        });
        catsContainer.innerHTML=catToyshtml;
        let allitemsList = event.target.parentElement.querySelectorAll('li');
        allitemsList.forEach((li)=>{
            li.style.fontWeight = 400;
        });
        event.target.style.fontWeight = 700;
        sortByCatsList=document.querySelectorAll('.shopitem');
    } else if (event.target.textContent == 'Cat Tools') {
        let catTools = [];
        catsData.forEach((item)=>{
            if(item.category=="cat tools") {
                catTools.push(item);
            }
        })
        let catToolshtml = '';
        catTools.forEach((item)=>{
            catToolshtml+=`
            <div class="shopitem">
                        <img src="${item.image}" alt="image not loading">
                        <p class="improduct">${item.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${item.previousPrice}</s><p class="shopitemprice">$${(item.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`
        });
        catsContainer.innerHTML=catToolshtml;
        let allitemsList = event.target.parentElement.querySelectorAll('li');
        allitemsList.forEach((li)=>{
            li.style.fontWeight = 400;
        });
        event.target.style.fontWeight = 700;
        sortByCatsList=document.querySelectorAll('.shopitem');
    } else if (event.target.textContent == 'All') {
        let catsAllhtml = '';
        catsData.forEach((item)=>{
            catsAllhtml+=`
            <div class="shopitem">
                        <img src="${item.image}" alt="image not loading">
                        <p class="improduct">${item.name}</p>
                        <div class="oldpricenewpricecontainer">
                        <s class="stikeprice">${item.previousPrice}</s><p class="shopitemprice">$${(item.price/100).toFixed(2)}</p>
                        </div>
                        <div class="itemnumberinputplusminus">
                          <svg class="minusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                          </svg>
                          <input type="text" name="" id="" class="itemnumberinput" value="1">
                          <svg class="plusbuttononitem" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                          </svg>
                        </div>
                        <button class="additemtocartbutton">Add to Cart</button>
                      </div>`
        });
        catsContainer.innerHTML=catsAllhtml;
        let allitemsList = event.target.parentElement.querySelectorAll('li');
        allitemsList.forEach((li)=>{
            li.style.fontWeight = 400;
        });
        event.target.style.fontWeight = 700;
        sortByCatsList=document.querySelectorAll('.shopitem');
    }
});